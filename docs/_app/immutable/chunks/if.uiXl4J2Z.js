import{V as N,S as a,_ as j,$ as v,n as A,y as m,F as D,f as l,g as h,m as g,d as _,U as d,a0 as I,u as O,a1 as S,b as k,H as F,G as L,J as b,a as w,p as E,E as H}from"./runtime.Irf3Z8oC.js";import{g as K,k as R,j as M}from"./disclose-version.sVqZ2Ap5.js";function y(e,t=!0,s=null){if(typeof e=="object"&&e!=null&&!N(e)){if(a in e){const n=e[a];if(n.t===e||n.p===e)return n.p}const i=S(e);if(i===j||i===v){const n=new Proxy(e,U);return A(e,a,{value:{s:new Map,v:m(0),a:D(e),i:t,p:n,t:e},writable:!0,enumerable:!1}),n}}return e}function P(e,t=1){l(e,e.v+t)}const U={defineProperty(e,t,s){if(s.value){const i=e[a],n=i.s.get(t);n!==void 0&&l(n,y(s.value,i.i,i))}return Reflect.defineProperty(e,t,s)},deleteProperty(e,t){const s=e[a],i=s.s.get(t),n=s.a,f=delete e[t];if(n&&f){const r=s.s.get("length"),o=e.length-1;r!==void 0&&r.v!==o&&l(r,o)}return i!==void 0&&l(i,d),f&&P(s.v),f},get(e,t,s){if(t===a)return Reflect.get(e,a);const i=e[a];let n=i.s.get(t);if(n===void 0&&(!(t in e)||h(e,t)?.writable)&&(n=(i.i?m:g)(y(e[t],i.i,i)),i.s.set(t,n)),n!==void 0){const f=_(n);return f===d?void 0:f}return Reflect.get(e,t,s)},getOwnPropertyDescriptor(e,t){const s=Reflect.getOwnPropertyDescriptor(e,t);if(s&&"value"in s){const n=e[a].s.get(t);n&&(s.value=_(n))}return s},has(e,t){if(t===a)return!0;const s=e[a],i=Reflect.has(e,t);let n=s.s.get(t);return(n!==void 0||I!==null&&(!i||h(e,t)?.writable))&&(n===void 0&&(n=(s.i?m:g)(i?y(e[t],s.i,s):d),s.s.set(t,n)),_(n)===d)?!1:i},set(e,t,s,i){const n=e[a];let f=n.s.get(t);f===void 0&&(O(()=>i[t]),f=n.s.get(t)),f!==void 0&&l(f,y(s,n.i,n));const r=n.a,o=!(t in e);if(r&&t==="length")for(let c=s;c<e.length;c+=1){const u=n.s.get(c+"");u!==void 0&&l(u,d)}if(e[t]=s,o){if(r){const c=n.s.get("length"),u=e.length;c!==void 0&&c.v!==u&&l(c,u)}P(n.v)}return!0},ownKeys(e){const t=e[a];return _(t.v),Reflect.ownKeys(e)}};function T(e){if(e!==null&&typeof e=="object"&&a in e){var t=e[a];if(t)return t.p}return e}function z(e,t){return Object.is(T(e),T(t))}function B(e,t,s,i=null,n=!1){var f=null,r=null,o=null,c=n?H:0;k(()=>{if(o===(o=!!t()))return;let u=!1;if(K){const x=e.data===F;o===x&&(L(M),R(!1),u=!0)}o?(f?b(f):f=w(()=>s(e)),r&&E(r,()=>{r=null})):(r?b(r):i&&(r=w(()=>i(e))),f&&E(f,()=>{f=null})),u&&R(!0)},c)}export{z as a,T as g,B as i,y as p};
